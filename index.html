<!DOCTYPE html>
<html lang="en">
 <head>
     <link rel="stylesheet" href="main.css" />
     
     <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

  <script text="javascript">
     /*!
     * jQuery CLI
     * Simulating a command line interface with jQuery
     *
     * @version : 1.0.0
     * @author : Paulo Nunes (http://syndicatefx.com)
     * @demo : https://codepen.io/syndicatefx/pen/jPxXpz
     * @license: MIT
     */

    /*!* 
     * jQuery Text Typer plugin
     * https://github.com/gr8pathik/jquery-texttyper
     */


    (function(e){"use strict";e.fn.textTyper=function(t){var n={typingClass:"typing",beforeAnimation:function(){},afterAnimation:function(){},speed:10,nextLineDelay:400,startsFrom:0,repeatAnimation:false,repeatDelay:4e3,repeatTimes:1,cursorHtml:'<span class="cursor">|</span>'},r=e.extend({},n,t);this.each(function(){var t=e(this),n=1,i="typingCursor";var s=t,o=s.length,u=[];while(o--){u[o]=e.trim(e(s[o]).html());e(s[o]).html("")}t.init=function(e){var n=r.beforeAnimation;if(n)n();t.animate(0)};t.animate=function(o){var a=s[o],f=r.typingClass,l=r.startsFrom;e(a).addClass(f);var c=setInterval(function(){var f=r.cursorHtml;f=e("<div>").append(e(f).addClass(i)).html();e(a).html(u[o].substr(0,l)+f);l++;if(u[o].length<l){clearInterval(c);o++;if(s[o]){setTimeout(function(){e(a).html(u[o-1]);t.animate(o)},r.nextLineDelay)}else{e(a).find("."+i).remove();if(r.repeatAnimation&&(r.repeatTimes==0||n<r.repeatTimes)){setTimeout(function(){t.animate(0);n++},r.repeatDelay)}else{var h=r.afterAnimation;if(h)h()}}}},r.speed)};t.init()});return this}})(jQuery)


    // Let's do it!!
    $(document).ready(function() {

      $('.command').hide();
      $('input[type="text"]').focus();
      $('#home').addClass('open');
      $('#home').textTyper({
            speed:5,
            afterAnimation:function(){
              $('.command').fadeIn();
              $('input[type="text"]').focus();
              $('input[type="text"]').val('');
            }
          });

      
        
    // get array of section ids, that exist in DOM
    var sectionArray = [];
    // We are using <section> here, you can use <div> or <article> if you want
    $('section').each( function(i,e) {
        //you can use e.id instead of $(e).attr('id')
        sectionArray.push($(e).attr('id'));
    });

    // Debug
    //console.log(sectionArray);



    // Command Input------------------------------

      $('input[type="text"]').keyup(function(e){
 
        if(e.which == 13){// ENTER key pressed

          $('.command').hide();
          var destination = $('input[type="text"]').val();

          // Display section with id == destination and hide all others
          $('section[id="' + destination + '"]').addClass('open').siblings().removeClass('open');

          // If destination does not match our array of section ids, display error section
          if($.inArray(destination, sectionArray) == -1){
            $('#error').addClass('open');
            $('#error').siblings().removeClass('open');
          }

          // All sections with class .open init textTyper
          $('.open').textTyper({
            speed:16,
            afterAnimation:function(){
              $('.command').fadeIn();
              $('input[type="text"]').focus();
              $('input[type="text"]').val('');
            }
          });

        }// end if ENTER key pressed

          
          
      });// end keyup function

    // End Command Input-----------------------------

    /*     
      setTimeout(function(){
        $( "#loc" ).append( "<p>Receiving signal from "+geoplugin_city()+", "+geoplugin_countryName()+"</p>" );
      }, 8500);
    */
        
    });


    // geo
        

    // RANDOM
    var item = ['Courtesy Is Appreciated', 'Closely Investigate Anomaly', 'Crave Intimate Abundance', 'Create Interesting Allocation'].find((_, i, ar) => Math.random() < 1 / (ar.length - i));
    console.log(item);
     
     document.write("Welcome to our visitors from "+geoplugin_city()+", "+geoplugin_countryName()); 

 </script>
</head>
    
 <body>

    <main>
        <section id="home">
         <pre id="taag_output_text" style="float:left;" class="fig" contenteditable="true"> ______       ________      ________      
/_____/\     /_______/\    /_______/\     
\:::__\/     \__.::._\/    \::: _  \ \    
 \:\ \  __      \::\ \      \::(_)  \ \   
  \:\ \/_/\     _\::\ \__    \:: __  \ \  
   \:\_\ \ \   /__\::\__/\    \:.\ \  \ \ 
    \_____\/   \________\/     \__\/\__\/ 
                                          </pre>
            <h2>CIA Command Line Interface Terminal</h2>
            <p>Writing objects: 100% (16/16), 414.92 KiB | done.</p>
            
            <p>
                <span>Type a <abbr style="color:green">'command'</abbr> + <kbd>Enter</kbd></span>
                <ul>
                    <li>'about'</li>
                    <li>'shows'</li>
                    <li>'home' </li>
                </ul>
            </p>
        </section>

        <section id="about"> 
            <h2><span>&raquo;About</span></h2> 
            <p>CIA is reorganizing your brain </p>
         
           <p>
                <span>Type a <abbr style="color:green">'command'</abbr> + <kbd>Enter</kbd></span>
                <ul>
                    <li>'about'</li>
                    <li>'shows'</li>
                    <li>'home' </li>
                </ul>
            </p>
        </section> 


        <section id="shows">
            <h2><span>&raquo;Shows</span></h2>
            <p>See CIA</p>
            <p>1/29/19 - The Space - Los Angeles</p>
            <p>2/19/19 - The Other Space - Los Angeles</p>
            <p>2/29/19 - The Echo Space - Los Angeles</p>
            <p>
                <span>Type a <abbr style="color:green">'command'</abbr> + <kbd>Enter</kbd></span>
                <ul>
                    <li>'about'</li>
                    <li>'shows'</li>
                    <li>'home' </li>
                </ul>
            </p>
        </section>


        <section id="error">
            <p>Command not found! <p> 
             <p>
                <span>Type a <abbr style="color:green">'command'</abbr> + <kbd>Enter</kbd></span>
                <ul>
                    <li>'about'</li>
                    <li>'shows'</li>
                    <li>'home' </li>
                </ul>
            </p>
        </section>


        <section id="help">
        <h2><span>&raquo;Help?</span></h2>
        <p><span>Type [command] + <kbd>Enter</kbd></span></p>
        <ul>
            <li>'home' -- </li>
            <li>'about' -- r</li>
            <li>'help' -- displays this list</li>
        </ul>
        </section>

        <span class="command">syndicatefx:/$<input type="text"></span>
    </main>



 </body>
</html>
